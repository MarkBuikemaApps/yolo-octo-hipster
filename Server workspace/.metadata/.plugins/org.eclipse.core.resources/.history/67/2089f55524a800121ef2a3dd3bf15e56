<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Juliana 32 Android app data administratie</title>
<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.js"
	type="text/javascript"></script>
<script
	src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.js"
	type="text/javascript"></script>

<script type="text/javascript">
	function testpost() {
		$.ajax({
			url : "api/news/add",
			dataType : 'json',
			contentType : 'application/json;',
			type : 'post',
			data : '{"title":"' + $("#title").val() + '","subTitle":"'
					+ $("#subTitle").val() + '","content":"'
					+ $("#content").val() + '","createdAt":"'
					+ $("#createdAt").val() + '","detailUrl":"'
					+ $("#detailUrl").val() + '"}'
		});
	}

	function testspecificget() {
		var id = $("#id").val();
		$.ajax({
			url : "api/news/get/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'get',
			success : function(d) {
				var json = JSON.stringify(d);
				alert(json);

			}

		})
	}

	function testput() {
		var id = $("#id").val();
		$.ajax({
			url : "api/news/edit/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'put',
			data : '{"title":"' + $("#title").val() + '","subTitle":"'
					+ $("#subTitle").val() + '","content":"'
					+ $("#content").val() + '","createdAt":"'
					+ $("#createdAt").val() + '","detailUrl":"'
					+ $("#detailUrl").val() + '"}',
			success : testget()
		});
	}

	function testdelete() {
		var id = $("#id").val();
		$.ajax({
			url : "api/news/delete/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'delete',
			success : testget()
		});
	}

	function testcount() {
		$.ajax({
			url : "api/news/count",
			dataType : 'text',
			contentType : 'text/plain',
			type : 'get',
			success : function(d) {
				alert(d);
			}
		});
	}

	function testget() {
		$.ajax({
			url : "api/news/get",
			dataType : 'json',
			contentType : 'application/json',
			type : 'get',
			success : function(d) {

				var html = "";
				var json = JSON.stringify(d);
				var parsed = JSON.parse(json);

				var newsItem = parsed.newsItem;
				var length = newsItem.length;
				if (typeof length == 'undefined') {
					newsItem = [].concat(newsItem);
				}

				html += json + "<br><br> ";
				$.each(newsItem, function(i, item) {
					html += item.title + "," + item.subTitle + ","
							+ item.content + "," + item.createdAt + ","
							+ item.detailUrl + "<br>";
				});

				$("#results").html(html);
			}
		});
	}

	//teaser

	function testteaserpost() {
		$.ajax({
			url : "api/teasers/add",
			dataType : 'json',
			contentType : 'application/json;',
			type : 'post',
			data : '{"title":"' + $("#teaserTitle").val() + '","subTitle":"'
					+ $("#teaserSubTitle").val() + '","content":"'
					+ $("#teaserContent").val() + '","imgUrl":"'
					+ $("#teaserImgUrl").val() + '","detailUrl":"'
					+ $("#teaserDetailUrl").val() + '"}'
		});
	}

	function testteaserspecificget() {
		var id = $("#teaserId").val();
		$.ajax({
			url : "api/teasers/get/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'get',
			success : function(d) {
				var json = JSON.stringify(d);
				alert(json);

			}

		})
	}

	function testteaserput() {
		var id = $("#teaserId").val();
		$.ajax({
			url : "api/teasers/edit/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'put',
			data : '{"title":"' + $("#teaserTitle").val() + '","subTitle":"'
					+ $("#teaserSubTitle").val() + '","content":"'
					+ $("#teaserContent").val() + '","imgUrl":"'
					+ $("#teaserImgUrl").val() + '","detailUrl":"'
					+ $("#teaserDetailUrl").val() + '"}',
			success : testteaserget()
		});
	}

	function testteaserdelete() {
		var id = $("#teaserId").val();
		$.ajax({
			url : "api/teasers/delete/" + id,
			dataType : 'json',
			contentType : 'application/json',
			type : 'delete',
			success : testteaserget()
		});
	}

	function testteasercount() {
		$.ajax({
			url : "api/teasers/count",
			dataType : 'text',
			contentType : 'text/plain',
			type : 'get',
			success : function(d) {
				alert(d);
			}
		});
	}

	function testteaserget() {
		$.ajax({
			url : "api/teasers/get",
			dataType : 'json',
			contentType : 'application/json',
			type : 'get',
			success : function(d) {

				var html = "";
				var json = JSON.stringify(d);
				var parsed = JSON.parse(json);

				var newsItem = parsed.teaserNewsItem;
				var length = newsItem.length;
				if (typeof length == 'undefined') {
					newsItem = [].concat(newsItem);
				}

				html += json + "<br><br> ";
				$.each(newsItem, function(i, item) {
					html += item.title + "," + item.subTitle + ","
							+ item.content + "," + item.imgUrl + ","
							+ item.detailUrl + "<br>";
				});

				$("#teaserResults").html(html);
			}
		});
	}

	function startcrawler() {
		$.ajax({
			url : "api/news/startcrawling",
			type : "post",
			success : alert('started retrieving news')
		});
	}

	function testcreateseason() {
		$.ajax({
			url : "api/seasons/add/" + $("#seasonYear").val(),
			type : "post",
			dataType : 'json',
			contentType : 'application/json'
		});
	}

	function testgetseasons() {
		var year = $("#seasonYear").val();
		if (year == undefined || year == "") {
			$.ajax({
				url : "api/seasons/get/all",
				type : "get",
				dataType : 'json',
				contentType : 'application/json',
				success : function(d) {
					d = JSON.stringify(d);
					$("#seasonresults").html("response: " + d);
				}
			});
		} else {
			$.ajax({
				url : "api/seasons/get/" + year,
				type : "get",
				dataType : 'json',
				contentType : 'application/json',
				success : function(d) {
					d = JSON.stringify(d);
					$("#seasonresults").html(
							"Season " + year + " response: " + d);
				}
			});
		}
	}

	function testcreateteam() {
		var data = '{"name":"' + $("#teamname").val() + '"}';
		alert(data);
		$.ajax({
			url : "api/teams/add/" + $("#seasonYear").val(),
			type : "post",
			dataType : 'json',
			contentType : 'application/json',
			data : data
		});
	}

	function testcreategame() {
		var year = $("#seasonYear").val();
		var teamId = $("#teamId").val();

		var teamname = $("#teamname").val();
		var teamgoals = $("#goals").val();
		var otherteamname = $("#otherteamname").val();
		var otherteamgoals = $("#otherteamgoals").val();
		var home = $("#homegame").is(':checked');
		var date = $("#gamedate").val();

		$.ajax({
			url : "api/teams/addgame/" + year + "/" + teamId,
			type : 'post',
			dataType : 'json',
			contentType : 'application/json',
			data: '{"teamName":"'+teamname+'","teamGoals":"' + teamgoals + 
				'","otherTeam":"'+otherteamname+'","otherGoals":"' + otherteamgoals + 
				'","home":"'+homegame+'","date":"'+date'"}',
			success: testgetseasons()
		}
		);
	}
</script>
</head>

<body>
	<h1>Administratie Juliana32</h1>

	<button onclick="startcrawler()">Start retrieving news</button>
	<table border="1px" width="100%">
		<tr>
			<td width="50%">News Items</td>
			<td>Teaser Items</td>
		</tr>
		<tr>
			<td>title<input id="title"></input> <br> subTitle <input
				id="subTitle"></input> <br> content <input id="content"></input>
				<br> createdAt <input id="createdAt"></input> <br>
				detailUrl <input id="detailUrl"></input> <br>
				<button onclick="testpost()">Test post request</button> <br>
				<button onclick="testget()">Test get request</button> <br>
				<button onclick="testcount()">Test count</button> <br>
				<button onclick="testspecificget()">Test specific get (fill
					in id)</button> <br>
				<button onclick="testput()">Test put request (fill in id)</button> <br>
				<button onclick="testdelete()">Test delete request (fill in
					id)</button> <br> <br> specific id <input id="id"></input> <br>
				<div id="results"></div>


			</td>
			<td width="50%">title<input id="teaserTitle"></input> <br>
				subTitle <input id="teaserSubTitle"></input> <br> content <input
				id="teaserContent"></input><br> imgUrl <input id="teaserImgUrl"></input>
				<br> detailUrl <input id="teaserDetailUrl"></input> <br>
				<button onclick="testteaserpost()">Test post request</button> <br>
				<button onclick="testteaserget()">Test get request</button> <br>
				<button onclick="testteasercount()">Test count</button> <br>
				<button onclick="testteaserspecificget()">Test specific get
					(fill in id)</button> <br>
				<button onclick="testteaserput()">Test put request (fill in
					id)</button> <br>
				<button onclick="testteaserdelete()">Test delete request
					(fill in id)</button> <br> <br> specific id <input id="teaserId"></input>
				<br>
				<div id="teaserResults"></div>

			</td>
		</tr>
		<tr>
			<td>year<input id="seasonYear"><br>
				<button onclick="testcreateseason()">Test post season</button> <br>
				<button onclick="testgetseasons()">Test get seasons</button>
				<div id="seasonresults"></div>
			</td>
			<td>name<input id="teamname"><br>
				<button onclick="testcreateteam()">Test post team (fill in
					year)</button> team ID<input id="teamId"> <br> <br> goals
				scored <input id="goals"><br> other team name<input
				id="otherteamname"><br> other team goals <input
				id="otherteamgoals"><br> home game? <input
				type="checkbox" id="homegame"><br> date <input
				id="gamedate">

				<button onclick="testcreategame">Create game</button>


			</td>
		</tr>
	</table>
</body>
</html>