package com.markbuikema.juliana32.server.resources;

import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

import com.markbuikema.juliana32.server.model.Season;
import com.markbuikema.juliana32.server.model.Team;
import com.markbuikema.juliana32.server.singletons.Seasons;

@Path("/teams")
public class TeamsResource {
	
	@GET
	@Path("/get/{year}/{name}")
	@Produces(MediaType.APPLICATION_JSON)
	public Team findTeam(@PathParam("year") int season, @PathParam("name") String team) {
		Season s = Seasons.get().findSeason(season);
		if (s == null) return null;
		return s.getTeam(team);
	}
	
	@POST
	@Path("add/{year}")
	@Consumes(MediaType.APPLICATION_JSON)
	public void addTeam(@PathParam("year") int season, Team team) {
		Season s = Seasons.get().findSeason(season);
		s.addTeam(team);
	}
	
	
	
}
