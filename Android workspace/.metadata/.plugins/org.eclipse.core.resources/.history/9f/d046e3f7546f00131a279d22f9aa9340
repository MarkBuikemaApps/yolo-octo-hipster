package com.markbuikema.juliana32.adapter;

import org.holoeverywhere.LayoutInflater;
import org.holoeverywhere.widget.ArrayAdapter;
import org.holoeverywhere.widget.TextView;

import android.content.Context;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;

import com.koushikdutta.urlimageviewhelper.UrlImageViewHelper;
import com.markbuikema.juliana32.R;
import com.markbuikema.juliana32.model.Team;
import com.markbuikema.juliana32.model.Team.Category;
import com.markbuikema.juliana32.util.DataManager;
import com.markbuikema.juliana32.util.Util;

public class TeamAdapter extends ArrayAdapter<Team> {

	private Category cat;

	public TeamAdapter( Context context, Category cat ) {
		super( context, 0, DataManager.getInstance().getTeams(cat) );

		this.cat = cat;
	}

	@Override
	public View getView( int position, View convertView, ViewGroup parent ) {

		if ( convertView == null )
			convertView = LayoutInflater.from( getContext() ).inflate( R.layout.listitem_team );

		ImageView teamPhoto = (ImageView) convertView.findViewById( R.id.teamGridPicture );
		TextView teamName = (TextView) convertView.findViewById( R.id.teamGridName );

		Team team = getItem( position );

		UrlImageViewHelper.setUrlDrawable( teamPhoto, team.getTeamPhotoUrl(), R.drawable.team_placeholder );
		teamName.setTypeface( Util.getRobotoLight( getContext() ) );
		teamName.setText( team.getName() );

		return convertView;
	}

}